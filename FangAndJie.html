<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<span>没有防抖的input：</span><input id="input" value="" />
		<br>
		<span>防抖的input：</span><input id="input1" value="" />
		<br>
		<span>节流后的input：</span><input id="input2" value="" />
	</body>
	<script type="text/javascript">
		function ajax(content) {
			console.log('input ' + content);
		}
		let input = document.getElementById('input');
		input.addEventListener('keyup',function(e) {
			ajax(e.target.value)
		})
		// --防抖
		let input1 = document.getElementById('input1');

		function debunce (fun,wait) {
			 return function (args) {
			        let that = this
			        let _args = args
					/* console.log(args,'args');
					console.log(fun.id,'fun.id'); */
			        clearTimeout(fun.id)
			        fun.id = setTimeout(function () {
			            fun.call(that, _args)
						// console.log(fun.call(that, _args),'0000');
			        }, wait)
			    }
		}
		function ajax1 (content) {
			console.log('input ' + content);
		}
		let debunceAjax = debunce(ajax1,500)
		input1.addEventListener('keyup',function(e) {
			debunceAjax(e.target.value)
		})
	</script>
</html>
